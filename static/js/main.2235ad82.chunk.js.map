{"version":3,"sources":["Transaction.js","RemainingBalance.js","History.js","MyPortfolio.js","Avatar.js","App.js","index.js"],"names":["Transaction","handleSubmit","e","preventDefault","name","document","querySelector","value","quantity","Number","parseInt","alert","fetch","method","mode","headers","Accept","body","JSON","stringify","then","data","json","response","status","props","refreshPage","characterCode","key","characterNumber","currentTarget","length","Object","keys","this","coins","map","className","action","onSubmit","event","renderOptions","type","placeholder","required","onKeyDown","handleKeypress","onClick","Component","RemainingBalance","state","balance","setState","console","log","values","myBalance","amount","toFixed","toString","renderBalance","history","loadHistory","id","unit_price","date","replace","Math","round","Date","toLocaleDateString","MyPortfolio","portfolio","x","portfolioItems","CoinBalance","useStyles","makeStyles","theme","root","display","margin","spacing","ImageAvatars","classes","Avatar","alt","src","App","res","coinValues","entries","cryptoData","price","target","to","pathname","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2235ad82.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Transaction.css';\n\n\n\nexport class Transaction extends Component {\n    \n    handleSubmit = (e, transactionType = 'buy') => {\n        e.preventDefault();\n        const name = document.querySelector(\"[name=coin]\").value;\n        const quantity = Number.parseInt(document.querySelector(\"[name=quantity]\").value);\n        // if (Number.isNaN(quantity)) {\n        //     quantity = 0;\n        // }\n        alert(`${name} ${quantity}`);\n\n        fetch(\"https://i3g96.sse.codesandbox.io/coins/new\", {\n            method : \"POST\",\n            mode: \"cors\",\n            headers : {\n                Accept : \"application/json\",\n                \"Content-Type\" : \"application/json\",\n                \n            },\n            body: JSON.stringify({name:name, quantity:quantity})\n        }).then(data => data.json()).then((response) => {\n            alert(response.status);\n            this.props.refreshPage();\n        });\n            \n    }\n    handleKeypress (e) {\n        const characterCode = e.key\n        if (characterCode === 'Backspace') return\n        const characterNumber = Number(characterCode)\n        if (characterNumber !==0 ) {\n          if (e.currentTarget.value && e.currentTarget.value.length) {\n            return\n          } else if (characterNumber === 0) {\n            e.preventDefault()\n          }\n        } else {\n          e.preventDefault()\n        }\n      }\n        \n    renderOptions(){\n        // console.log(\"Yooo00000\",this.props.coins);\n        return Object.keys(this.props.coins).map((key) => (\n            <option key={key}>{key}</option>\n            \n        ))\n        \n    }\n     \n    render() {\n        return (\n            <div className=\"transaction__form\">\n                <form \n                    action=\"https://i3g96.sse.codesandbox.io/coins/new\" \n                    method=\"POST\"\n                    onSubmit={event=>this.handleSubmit(event)}\n                >\n\n                    <table className=\"transaction__input\">\n                    \n                        <label>\n                            Coin:\n                            <select name=\"coin\">{this.renderOptions()}</select>\n                        </label>\n                        <label>\n                            Quantity:\n                          <input type=\"number\" name = \"quantity\"  placeholder = \"Quantity\" required=\"required\" onKeyDown={this.handleKeypress} />\n                        </label>\n                        \n                    </table>\n                    <div className=\"transaction__button\">\n                        <button type=\"submit\" className=\"trade__button buy\" onClick={this.handleSubmit}>Buy</button>\n                        <button type=\"submit\" className=\"trade__button sell\"  onClick={this.handleSubmit}>Sell</button>\n                        {/* {this.state.showName} */}\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Transaction;\n","import React, { Component } from 'react';\nimport './RemainingBalance.css';\n\nexport default class RemainingBalance extends Component {\n    state = {\n        balance : {}\n    };\n    componentDidMount(){\n        fetch(\"https://i3g96.sse.codesandbox.io/balance\")\n        .then(response => response.json())\n        .then(( balance ) => {\n            this.setState({ balance :  balance});\n            console.log(\"REMAING BALANCE\",balance);  \n        });\n        \n    }\n    \n    renderBalance(){\n\t\treturn Object.values(this.state.balance).map((myBalance) => {\n\t\t\treturn (\n\t\t\t\t<li key={myBalance.name.toString()}>\n\t\t\t\t\t<h5>Welcome !{myBalance.name}</h5>\n\t\t\t\t\t<h5>Remaining balance:  ${myBalance.amount.toFixed()}</h5>\n\t\t\t\t</li>\n\t\t\t)\n\t\t})\n\t}\n    render() {\n        return (\n            <div>\n            <ul>{this.renderBalance()}</ul>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport \"./History.css\";\n\nexport default class history extends Component {\n    \n    componentDidMount(){\n        this.props.loadHistory();\n    }\n// function myFunction() {\n//     var newItem = document.createElement(\"LI\");\n//     var textnode = document.createTextNode({history});\n//     newItem.appendChild({history});\n  \n//     var list = document.getElementById(\"myList\");\n//     list.insertBefore(newItem, list.childNodes[0]);\n//   }\n\n\n  \nrender() {\n    return (\n        <div className=\"history\">\n            <h1>History</h1>\n                <div className=\"table-container\">\n                    <table className=\"history__table\">\n                        <tr className=\"history__table__head\">\n                            <th>Name</th>\n                            <th>Unit price</th>\n                            <th>Date</th>\n                        </tr>\n                        {this.props.history.map(({ id, name, quantity, unit_price, date }) => (\n                                <tr key={date} >\n                                    <td> {name.replace(\"-\", \" \")}<br/>{quantity} { quantity === 1 | quantity < 1 ? \"token\" : \"tokens\"}</td>\n                                    <td>${Math.round(unit_price).toFixed(2)}</td>\n                                    <td>{new Date(date).toLocaleDateString()}</td>\n                                </tr>\n                            ))}\n                    </table>\n                </div>\n        </div>\n    )\n}\n}\n","import React, { Component } from 'react';\nimport './MyPortfolio.css'\n\nexport default class MyPortfolio extends Component {\n    state = {\n        portfolio : [],\n    }\n    componentDidMount(){\n        fetch('https://i3g96.sse.codesandbox.io/portfolio')\n        .then(x => x.json())\n        .then((portfolio) => {\n            this.setState({portfolio : portfolio})\n            console.log('pofolio', portfolio);\n        })\n    }\n    render() {\n        let portfolioItems =  this.state.portfolio.map(({ CoinBalance, name}) => (\n            <tr key={name} id=\"myList\">\n                <td> {name.replace(\"-\", \" \")}</td>\n                <td>{CoinBalance}</td> \n            </tr>\n            ))\n        /*var newItem = document.createElement(\"div\");\n        var textnode = document.createTextNode(portfolioItems);\n        newItem.appendChild(textnode);*/\n        // var list = document.getElementsByClassName(\"portfolio__table\");\n        // list.insertBefore(newItem, list.myList[0]);\n\n        return (\n            <div className=\"portfolio\">\n                <h1 className=\"portfolio__heading__one\">Portfolio</h1>\n                <div className=\"portfolio__table__head\">\n                <h4>Name</h4>\n                <h4>Quantity</h4>\n                </div>\n                    <table className=\"portfolio__table\">\n                        {portfolioItems}\n                    </table>\n            </div>\n        )\n    }\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport \"./Avatar.css\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: theme.spacing(1)\n    }\n  }\n}));\n\nexport default function ImageAvatars() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Avatar alt=\"Remy Sharp\" src=\"https://media-exp1.licdn.com/dms/image/C5603AQGlJfPN0Wu88w/profile-displayphoto-shrink_400_400/0/1627602129072?e=1635984000&v=beta&t=O99s6JoeCNEA6l7-azw37DO30e3WIWsfXJqstKlImvI\" />\n    </div>\n  );\n}\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport Transaction from \"./Transaction\";\nimport RemainingBalance from \"./RemainingBalance\";\nimport History from \"./History\";\nimport MyPortfolio from \"./MyPortfolio\";\nimport Avatar from \"./Avatar\"\nimport { HashRouter as Router, Link } from 'react-router-dom';\n\n\nconst API_URL = \"https://i3g96.sse.codesandbox.io/cryptos\";\n\nexport class App extends Component {\n    \n    state = {\n        coins : {},\n        history: [],\n    };\n\n    loadHistory = () => {\n        fetch(\"https://i3g96.sse.codesandbox.io/history\")\n            .then((x) => x.json())\n            .then((history) => {\n                this.setState({history : history})\n            });\n    }\n\n    componentDidMount(){\n        fetch(API_URL)\n            .then((x) => x.json())\n            .then((coins) => {\n              this.setState({ coins: coins});\n            //   console.log(\"coins >>>\",coins);\n            });\n         }\n        \n        renderOptions(){\n            return Object.keys(this.state.coins).map((key) => (\n                <option key={key} value={key}>{key}</option>\n            ));\n        }\n        refreshPage = () => {\n            this.loadHistory();\n            fetch(\"https://i3g96.sse.codesandbox.io/cryptos\")\n            .then((res) => res.json())\n            .then(( coins) => {\n                this.setState({ coins : coins})\n                console.log(\"Refresh page\", coins)\n            });            \n        }\n        \n    render() {\n        const coinValues = Object.entries(this.state.coins).map((cryptoData) =>{ \n            let price;\n            if (typeof cryptoData[1] === 'number') {\n                price = cryptoData[1].toFixed(2);\n            } else {\n                price = cryptoData[1].unit_price.toFixed(2);\n            }\n            console.log(cryptoData, price);\n            return (\n                <tbody key={cryptoData.toString()}>\n                    <tr>\n                        <td>{cryptoData[0].replace(/-/,\" \")}</td>\n                        <td>${price}</td>\n                    </tr>\n                </tbody>\n            )\n        });\n        return(\n            <div className=\"app\">\n                <div className=\"app__container\">\n                    <div className=\"app__left\">\n                        <h1 className=\"app__heading\">Paper Trading App</h1>\n                        <Avatar />\n                        <RemainingBalance />\n                        <h2>Cryptocurrencies </h2>\n                        <Router>\n                            <Link target={\"_blank\"} to={{  pathname: \"https://codesandbox.io/s/zen-hamilton-i3g96?file=/src/index.js\" }}><button className=\"server__button\">Launch Server</button></Link>\n                        </Router>                        \n                        <div className=\"app__table__head\">\n                            <h4>Name</h4>\n                            <h4>Unit price</h4>\n                        </div>\n                        <table className=\"app__table\">{coinValues}</table>\n                        <Transaction refreshPage={this.refreshPage} coins={this.state.coins} />\n                    </div>\n                    <div className=\"app__right\">\n                        <MyPortfolio />  \n                        <History history={this.state.history} loadHistory={this.loadHistory} />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}
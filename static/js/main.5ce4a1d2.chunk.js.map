{"version":3,"sources":["Transaction.js","RemainingBalance.js","History.js","MyPortfolio.js","Avatar.js","App.js","index.js"],"names":["initialState","coin","quantity","quantityError","Transaction","state","handleChange","event","isCheckbox","target","type","setState","name","checked","value","validate","handleSubmit","e","preventDefault","isValid","document","querySelector","Number","parseInt","alert","fetch","method","mode","headers","Accept","body","JSON","stringify","then","data","json","props","refreshPage","Object","keys","this","coins","map","key","className","action","onSubmit","onChange","renderOptions","placeholder","required","style","fontSize","color","Component","RemainingBalance","balance","response","values","myBalance","amount","toFixed","toString","renderBalance","history","loadHistory","id","unit_price","date","replace","Math","round","Date","toLocaleDateString","MyPortfolio","loadPortfolio","portfolioItems","portfolio","CoinBalance","useStyles","makeStyles","theme","root","display","margin","spacing","ImageAvatars","classes","Avatar","src","alt","App","x","res","coinValues","entries","cryptoData","price","console","log","to","pathname","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5ce4a1d2.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Transaction.css';\n\nconst initialState = {\n    coin : \"\",\n    quantity : null,\n    quantityError : null\n};\n\nexport class Transaction extends Component {\n     state = initialState;\n\n     handleChange = event => {\n        const isCheckbox = event.target.type === \"checkbox\";\n        this.setState({\n          [event.target.name]: isCheckbox\n            ? event.target.checked\n            : event.target.value\n        });\n      };\n\n    validate = () => {\n        let quantityError = \"\";\n        if(this.state.quantity === \"0\"){\n            quantityError = \"Zero is not a valid quantity to trade\"     \n        }\n        if(quantityError){\n            this.setState({ quantityError});\n            return false;\n        }\n        return true;\n    }\n    \n    handleSubmit = (e, transactionType = 'buy') => {\n        e.preventDefault();\n        const isValid = this.validate();\n        if (isValid) {\n        //  console.log(this.state);  \n\n        const name = document.querySelector(\"[name=coin]\").value;\n        const quantity = Number.parseInt(document.querySelector(\"[name=quantity]\").value);\n        alert(`${name} ${quantity}`);\n\n        fetch(\"https://i3g96.sse.codesandbox.io/coins/new\", {\n            method : \"POST\",\n            mode: \"cors\",\n            headers : {\n                Accept : \"application/json\",\n                \"Content-Type\" : \"application/json\",\n                \n            },\n            body: JSON.stringify({name:name, quantity:quantity})\n        }).then(data => data.json()).then(this.props.refreshPage())\n        this.setState(initialState);\n\n     }\n }\n\n    renderOptions(){\n        return Object.keys(this.props.coins).map((key) => (\n            <option key={key}>{key}</option>\n            \n        ))\n        }\n     \n    render() {\n        return (\n            <div className=\"transaction__form\">\n                <form \n                    action=\"https://i3g96.sse.codesandbox.io/coins/new\" \n                    method=\"POST\"\n                    onSubmit={event=>this.handleSubmit(event)}\n                    >\n                    <table className=\"transaction__input\">\n                        <label>\n                            Coin:\n                            <select name=\"coin\"  value={this.state.coin} onChange={this.handleChange}>{this.renderOptions()}</select>\n                        </label>\n                        <label>\n                            Quantity:\n                          <input type=\"number\"  name = \"quantity\" value={this.state.quantity} onChange={this.handleChange} placeholder = \"Quantity\" required=\"required\" />\n                        </label>\n                        <div style={{ fontSize: 12, color: \"red\" }}>\n                            {this.state.quantityError}\n                        </div>\n                    </table>\n                    <div className=\"transaction__button\">\n                        <button type=\"submit\" className=\"trade__button buy\">Buy</button>\n                        <button type=\"submit\" className=\"trade__button sell\" >Sell</button>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Transaction;\n","import React, { Component } from 'react';\nimport './RemainingBalance.css';\n\nexport default class RemainingBalance extends Component {\n    state = {\n        balance : {}\n    };\n    componentDidMount(){\n        fetch(\"https://i3g96.sse.codesandbox.io/balance\")\n        .then(response => response.json())\n        .then(( balance ) => {\n            this.setState({ balance :  balance});\n            // console.log(\"REMAING BALANCE\",balance);  \n        });\n        \n    }\n    \n    renderBalance(){\n\t\treturn Object.values(this.state.balance).map((myBalance) => {\n\t\t\treturn (\n\t\t\t\t<li key={myBalance.name.toString()}>\n\t\t\t\t\t<h5>Welcome !{myBalance.name}</h5>\n\t\t\t\t\t<h5>Remaining balance:  ${myBalance.amount.toFixed()}</h5>\n\t\t\t\t</li>\n\t\t\t)\n\t\t})\n\t}\n    render() {\n        return (\n            <div>\n            <ul>{this.renderBalance()}</ul>\n            </div>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport \"./History.css\";\n\nexport default class history extends Component {\n    \n    componentDidMount(){\n        this.props.loadHistory();\n    }  \nrender() {\n    return (\n        <div className=\"history\">\n            <h1>History</h1>\n                <div className=\"table-container\">\n                    <table className=\"history__table\">\n                        <tr className=\"history__table__head\">\n                            <th>Name</th>\n                            <th>Unit price</th>\n                            <th>Date</th>\n                        </tr>\n                        {this.props.history.map(({ id, name, quantity, unit_price, date }) => (\n                                <tr key={date} >\n                                    <td> {name.replace(\"-\", \" \")}<br/>{quantity} { quantity === 1 | quantity < 1 ? \"token\" : \"tokens\"}</td>\n                                    <td>${Math.round(unit_price).toFixed(2)}</td>\n                                    <td>{new Date(date).toLocaleDateString()}</td>\n                                </tr>\n                            ))}\n                    </table>\n                </div>\n        </div>\n    )\n}\n}\n","import React, { Component } from 'react';\nimport './MyPortfolio.css'\n\nexport default class MyPortfolio extends Component {\n  \n    componentDidMount(){\n        this.props.loadPortfolio();\n    }\n    render() {\n        let portfolioItems =  this.props.portfolio.map(({ CoinBalance, name}) => (\n            <tr key={name} id=\"myList\">\n                <td> {name.replace(\"-\", \" \")}</td>\n                <td>{CoinBalance}</td>\n            </tr>\n            ))\n        \n        return (\n            <div className=\"portfolio\">\n                <h1 className=\"portfolio__heading__one\">Portfolio</h1>\n                <div className=\"portfolio__container\">\n                    <table className=\"portfolio__table\">\n                        <tr className=\"portfolio__table__head\" >\n                            <th>Name</th>\n                            <th>Quantity</th>\n                        </tr>\n                        {portfolioItems}\n                    </table>\n                </div>\n                    \n            </div>\n        )\n    }\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport \"./Avatar.css\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: theme.spacing(1)\n    }\n  }\n}));\n\nexport default function ImageAvatars() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Avatar  src=\"https://media-exp1.licdn.com/dms/image/C5603AQGlJfPN0Wu88w/profile-displayphoto-shrink_400_400/0/1627602129072?e=1635984000&v=beta&t=O99s6JoeCNEA6l7-azw37DO30e3WIWsfXJqstKlImvI\" alt=\"Remy Sharp\" />\n    </div>\n  );\n}\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport Transaction from \"./Transaction\";\nimport RemainingBalance from \"./RemainingBalance\";\nimport History from \"./History\";\nimport MyPortfolio from \"./MyPortfolio\";\nimport Avatar from \"./Avatar\"\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\n\nconst API_URL = \"https://i3g96.sse.codesandbox.io/cryptos\";\n\nexport class App extends Component {\n    \n    state = {\n        coins : {},\n        history: [],\n        portfolio : [],\n    };\n    loadPortfolio = () => {\n        fetch(\"https://i3g96.sse.codesandbox.io/portfolio\")\n            .then((x) => x.json())\n            .then((portfolio) => {\n                this.setState({portfolio : portfolio})\n            });\n    }\n\n    loadHistory = () => {\n        fetch(\"https://i3g96.sse.codesandbox.io/history\")\n            .then((x) => x.json())\n            .then((history) => {\n                this.setState({history : history})\n            });\n    }\n\n    componentDidMount(){\n        fetch(API_URL)\n            .then((x) => x.json())\n            .then((coins) => {\n              this.setState({ coins: coins});\n            });\n         }\n\n        renderOptions(){\n            return Object.keys(this.state.coins).map((key) => (\n                <option key={key} value={key}>{key}</option>\n            ));\n        }\n\n        refreshPage = () => {\n            this.loadPortfolio();\n            this.loadHistory();\n            fetch(\"https://i3g96.sse.codesandbox.io/cryptos\")\n            .then((res) => res.json())\n            .then(( coins) => {\n                this.setState({ coins : coins})\n                // console.log(\"Refresh page\", coins)\n            });            \n        }\n        \n    render() {\n        const coinValues = Object.entries(this.state.coins).map((cryptoData) =>{ \n            let price;\n            if (typeof cryptoData[1] === 'number') {\n                price = cryptoData[1].toFixed(2);\n            } else {\n                price = cryptoData[1].unit_price.toFixed(2);\n            }\n            console.log(cryptoData, price);\n            return (\n                \n                <tbody key={cryptoData.toString()}>\n                    <tr>\n                        <td>{cryptoData[0].replace(/-/,\" \")}</td>\n                        <td>${price}</td>\n                    </tr>\n                </tbody>\n            )\n        });\n\n        return(\n            <div className=\"app\">\n                <div className=\"app__container\">\n                    <div className=\"app__left\">\n                        <h1 className=\"app__heading\">Paper <span className=\"trading\">Trading</span> App</h1>\n                        <p className=\"note\">⚠️ Temporarily the server side code is in codesandbox.So we need to run the sever side code first to get fully loaded application</p>\n                        <div className=\"container\">\n                            <RemainingBalance />\n                            <Router>\n                                <Link target={\"_blank\"} to={{  pathname:\"https://codesandbox.io/s/zen-hamilton-i3g96?file=/src/index.js\" }}><button className=\"server__button\">Run Server</button></Link>\n                            </Router> \n                        </div>\n                        <Avatar />\n                        <h2>Cryptocurrencies </h2>\n                        \n                        <table className=\"app__table\">\n                            <tr className='app__table__head'>\n                                <th>Name</th>\n                                <th>Quantity</th>\n                            </tr>\n                                {coinValues}\n                        </table>\n                        <Transaction refreshPage={this.refreshPage} coins={this.state.coins} />\n                    </div>\n                    <div className=\"app__right\">\n                        <MyPortfolio portfolio={this.state.portfolio} loadPortfolio={this.loadPortfolio} />  \n                        <History history={this.state.history} loadHistory={this.loadHistory} />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}
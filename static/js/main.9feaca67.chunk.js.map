{"version":3,"sources":["Transaction.js","RemainingBalance.js","History.js","MyPortfolio.js","Avatar.js","App.js","index.js"],"names":["Transaction","handleSubmit","e","preventDefault","name","document","querySelector","value","quantity","Number","parseInt","alert","fetch","method","mode","headers","Accept","body","JSON","stringify","then","data","json","response","status","props","refreshPage","characterCode","key","characterNumber","currentTarget","length","Object","keys","this","coins","map","className","action","onSubmit","event","renderOptions","type","placeholder","required","onKeyDown","handleKeypress","onClick","Component","RemainingBalance","state","balance","setState","values","myBalance","amount","toFixed","toString","renderBalance","history","loadHistory","id","unit_price","date","replace","Math","round","Date","toLocaleDateString","MyPortfolio","loadPortfolio","portfolioItems","portfolio","CoinBalance","useStyles","makeStyles","theme","root","display","margin","spacing","ImageAvatars","classes","Avatar","alt","src","App","x","res","coinValues","entries","cryptoData","price","console","log","target","to","pathname","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9feaca67.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Transaction.css';\n\n\n\nexport class Transaction extends Component {\n    \n    handleSubmit = (e, transactionType = 'buy') => {\n        e.preventDefault();\n        const name = document.querySelector(\"[name=coin]\").value;\n        const quantity = Number.parseInt(document.querySelector(\"[name=quantity]\").value);\n        alert(`${name} ${quantity}`);\n\n        fetch(\"https://i3g96.sse.codesandbox.io/coins/new\", {\n            method : \"POST\",\n            mode: \"cors\",\n            headers : {\n                Accept : \"application/json\",\n                \"Content-Type\" : \"application/json\",\n                \n            },\n            body: JSON.stringify({name:name, quantity:quantity})\n        }).then(data => data.json()).then((response) => {\n            alert(response.status);\n            this.props.refreshPage();\n        });\n            \n    }\n    handleKeypress (e) {\n        const characterCode = e.key\n        if (characterCode === 'Backspace') return\n        const characterNumber = Number(characterCode)\n        if (characterNumber !==0 ) {\n          if (e.currentTarget.value && e.currentTarget.value.length) {\n            return\n          } else if (characterNumber === 0) {\n            e.preventDefault()\n          }\n        } else {\n          e.preventDefault()\n        }\n      }\n        \n    renderOptions(){\n        return Object.keys(this.props.coins).map((key) => (\n            <option key={key}>{key}</option>\n            \n        ))\n        \n    }\n     \n    render() {\n        return (\n            <div className=\"transaction__form\">\n                <form \n                    action=\"https://i3g96.sse.codesandbox.io/coins/new\" \n                    method=\"POST\"\n                    onSubmit={event=>this.handleSubmit(event)}\n                >\n                    <table className=\"transaction__input\">\n                        <label>\n                            Coin:\n                            <select name=\"coin\">{this.renderOptions()}</select>\n                        </label>\n                        <label>\n                            Quantity:\n                          <input type=\"number\" name = \"quantity\"  placeholder = \"Quantity\" required=\"required\" onKeyDown={this.handleKeypress} />\n                        </label>\n                    </table>\n                    <div className=\"transaction__button\">\n                        <button type=\"submit\" className=\"trade__button buy\" onClick={this.handleSubmit}>Buy</button>\n                        <button type=\"submit\" className=\"trade__button sell\"  onClick={this.handleSubmit}>Sell</button>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Transaction;\n","import React, { Component } from 'react';\nimport './RemainingBalance.css';\n\nexport default class RemainingBalance extends Component {\n    state = {\n        balance : {}\n    };\n    componentDidMount(){\n        fetch(\"https://i3g96.sse.codesandbox.io/balance\")\n        .then(response => response.json())\n        .then(( balance ) => {\n            this.setState({ balance :  balance});\n            // console.log(\"REMAING BALANCE\",balance);  \n        });\n        \n    }\n    \n    renderBalance(){\n\t\treturn Object.values(this.state.balance).map((myBalance) => {\n\t\t\treturn (\n\t\t\t\t<li key={myBalance.name.toString()}>\n\t\t\t\t\t<h5>Welcome !{myBalance.name}</h5>\n\t\t\t\t\t<h5>Remaining balance:  ${myBalance.amount.toFixed()}</h5>\n\t\t\t\t</li>\n\t\t\t)\n\t\t})\n\t}\n    render() {\n        return (\n            <div>\n            <ul>{this.renderBalance()}</ul>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport \"./History.css\";\n\nexport default class history extends Component {\n    \n    componentDidMount(){\n        this.props.loadHistory();\n    }  \nrender() {\n    return (\n        <div className=\"history\">\n            <h1>History</h1>\n                <div className=\"table-container\">\n                    <table className=\"history__table\">\n                        <tr className=\"history__table__head\">\n                            <th>Name</th>\n                            <th>Unit price</th>\n                            <th>Date</th>\n                        </tr>\n                        {this.props.history.map(({ id, name, quantity, unit_price, date }) => (\n                                <tr key={date} >\n                                    <td> {name.replace(\"-\", \" \")}<br/>{quantity} { quantity === 1 | quantity < 1 ? \"token\" : \"tokens\"}</td>\n                                    <td>${Math.round(unit_price).toFixed(2)}</td>\n                                    <td>{new Date(date).toLocaleDateString()}</td>\n                                </tr>\n                            ))}\n                    </table>\n                </div>\n        </div>\n    )\n}\n}\n","import React, { Component } from 'react';\nimport './MyPortfolio.css'\n\nexport default class MyPortfolio extends Component {\n  \n    componentDidMount(){\n        this.props.loadPortfolio();\n    }\n    render() {\n        let portfolioItems =  this.props.portfolio.map(({ CoinBalance, name}) => (\n            <tr key={name} id=\"myList\">\n                <td> {name.replace(\"-\", \" \")}</td>\n                <td>{CoinBalance}</td> \n            </tr>\n            ))\n        \n\n        return (\n            <div className=\"portfolio\">\n                <h1 className=\"portfolio__heading__one\">Portfolio</h1>\n                <div className=\"portfolio__table__head\">\n                <h4>Name</h4>\n                <h4>Quantity</h4>\n                </div>\n                    <table className=\"portfolio__table\">\n                        {portfolioItems}\n                    </table>\n            </div>\n        )\n    }\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport \"./Avatar.css\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: theme.spacing(1)\n    }\n  }\n}));\n\nexport default function ImageAvatars() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Avatar alt=\"Remy Sharp\" src=\"https://media-exp1.licdn.com/dms/image/C5603AQGlJfPN0Wu88w/profile-displayphoto-shrink_400_400/0/1627602129072?e=1635984000&v=beta&t=O99s6JoeCNEA6l7-azw37DO30e3WIWsfXJqstKlImvI\" />\n    </div>\n  );\n}\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport Transaction from \"./Transaction\";\nimport RemainingBalance from \"./RemainingBalance\";\nimport History from \"./History\";\nimport MyPortfolio from \"./MyPortfolio\";\nimport Avatar from \"./Avatar\"\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\n\n\nconst API_URL = \"https://i3g96.sse.codesandbox.io/cryptos\";\n\nexport class App extends Component {\n    \n    state = {\n        coins : {},\n        history: [],\n        portfolio : [],\n    };\n    loadPortfolio = () => {\n        fetch(\"https://i3g96.sse.codesandbox.io/portfolio\")\n            .then((x) => x.json())\n            .then((portfolio) => {\n                this.setState({portfolio : portfolio})\n            });\n    }\n\n    loadHistory = () => {\n        fetch(\"https://i3g96.sse.codesandbox.io/history\")\n            .then((x) => x.json())\n            .then((history) => {\n                this.setState({history : history})\n            });\n    }\n\n    componentDidMount(){\n        fetch(API_URL)\n            .then((x) => x.json())\n            .then((coins) => {\n              this.setState({ coins: coins});\n            });\n         }\n\n        renderOptions(){\n            return Object.keys(this.state.coins).map((key) => (\n                <option key={key} value={key}>{key}</option>\n            ));\n        }\n\n        refreshPage = () => {\n            this.loadPortfolio();\n            this.loadHistory();\n            fetch(\"https://i3g96.sse.codesandbox.io/cryptos\")\n            .then((res) => res.json())\n            .then(( coins) => {\n                this.setState({ coins : coins})\n                // console.log(\"Refresh page\", coins)\n            });            \n        }\n        \n    render() {\n        const coinValues = Object.entries(this.state.coins).map((cryptoData) =>{ \n            let price;\n            if (typeof cryptoData[1] === 'number') {\n                price = cryptoData[1].toFixed(2);\n            } else {\n                price = cryptoData[1].unit_price.toFixed(2);\n            }\n            console.log(cryptoData, price);\n            return (\n                <tbody key={cryptoData.toString()}>\n                    <tr>\n                        <td>{cryptoData[0].replace(/-/,\" \")}</td>\n                        <td>${price}</td>\n                    </tr>\n                </tbody>\n            )\n        });\n\n        return(\n            <div className=\"app\">\n                <div className=\"app__container\">\n                    <div className=\"app__left\">\n                        <h1 className=\"app__heading\">Paper Trading App</h1>\n                        <Avatar />\n                        <RemainingBalance />\n                        <h2>Cryptocurrencies </h2>\n                        <Router>\n                            <Link target={\"_blank\"} to={{  pathname:\"https://codesandbox.io/s/zen-hamilton-i3g96?file=/src/index.js\" }}><button className=\"server__button\">Launch Server</button></Link>\n                        </Router>                        \n                        <div className=\"app__table__head\">\n                            <h4>Name</h4>\n                            <h4>Unit price</h4>\n                        </div>\n                        <table className=\"app__table\">{coinValues}</table>\n                        <Transaction refreshPage={this.refreshPage} coins={this.state.coins} />\n                    </div>\n                    <div className=\"app__right\">\n                        <MyPortfolio portfolio={this.state.portfolio} loadPortfolio={this.loadPortfolio} />  \n                        <History history={this.state.history} loadHistory={this.loadHistory} />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}